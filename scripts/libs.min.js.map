{"version":3,"sources":["_lazy.js"],"names":["document","addEventListener","lazyImages","slice","call","querySelectorAll","lazyBackgrounds","lazyBackgroundsData","window","lazyImageObserver","IntersectionObserver","entries","observer","forEach","entry","isIntersecting","lazyImage","target","src","dataset","srcset","classList","remove","unobserve","observe","lazyBackgroundObserver","add","lazyBackground","lazyBackgroundDataObserver","lazyBackgroundData","style","backgroundImage","bg"],"mappings":"AAQAA,SAAAC,iBAAA,oBAAA,WAEA,IAAAC,EAAA,GAAAC,MAAAC,KAAAJ,SAAAK,iBAAA,aACAC,EAAA,GAAAH,MAAAC,KAAAJ,SAAAK,iBAAA,qBACAE,EAAA,GAAAJ,MAAAC,KAAAJ,SAAAK,iBAAA,cAEA,GAAA,yBAAAG,OAAA,CAEA,IAAAC,EAAA,IAAAC,sBAAA,SAAAC,EAAAC,GACAD,EAAAE,SAAA,SAAAC,GACA,GAAAA,EAAAC,eAAA,CACA,IAAAC,EAAAF,EAAAG,OACAD,EAAAE,IAAAF,EAAAG,QAAAD,IACAF,EAAAI,OAAAJ,EAAAG,QAAAC,OACAJ,EAAAK,UAAAC,OAAA,QACAb,EAAAc,UAAAP,UAIAd,EAAAW,SAAA,SAAAG,GACAP,EAAAe,QAAAR,MAGA,IAAAS,EAAA,IAAAf,sBAAA,SAAAC,EAAAC,GACAD,EAAAE,SAAA,SAAAC,GACAA,EAAAC,iBACAD,EAAAG,OAAAI,UAAAK,IAAA,WACAD,EAAAF,UAAAT,EAAAG,eAIAX,EAAAO,SAAA,SAAAc,GACAF,EAAAD,QAAAG,MAGA,IAAAC,EAAA,IAAAlB,sBAAA,SAAAC,EAAAC,GACAD,EAAAE,SAAA,SAAAC,GACA,GAAAA,EAAAC,eAAA,CACA,IAAAc,EAAAf,EAAAG,OACAY,EAAAC,MAAAC,gBAAA,OAAAF,EAAAV,QAAAa,GAAA,IACAJ,EAAAL,UAAAM,UAIAtB,EAAAM,SAAA,SAAAgB,GACAD,EAAAJ,QAAAK,WAOA3B,EAAAW,SAAA,SAAAG,GACAA,EAAAE,IAAAF,EAAAG,QAAAD,IACAF,EAAAI,OAAAJ,EAAAG,QAAAC,UAEAd,EAAAO,SAAA,SAAAc,GACAA,EAAAN,UAAAK,IAAA,cAEAnB,EAAAM,SAAA,SAAAgB,GACAA,EAAAC,MAAAC,gBAAA,OAAAF,EAAAV,QAAAa,GAAA","file":"libs.min.js","sourcesContent":["// Lazy loading img & background images using intersection observer\n// Reference: https://developers.google.com/web/fundamentals/performance/lazy-loading-guidance/images-and-video/\n// Using example: <img class=\"lazy\" src=\"thumb.gif\" data-src=\"real-img.jpg\" data-srcset=\"real-img@1x.jpg 1x, real-img@2x.jpg 2x\">\n// Background image class usign example: <div class=\"lazy-background\"> with added class \".visible\" for styling\n// Background image style attribute lazy loading example: <div data-bg=\"image.jpg\">\n\n// delete window.IntersectionObserver; // Fallback Testing\n\ndocument.addEventListener('DOMContentLoaded', function() {\n\n\tvar lazyImages = [].slice.call(document.querySelectorAll('img.lazy'));\n\tvar lazyBackgrounds = [].slice.call(document.querySelectorAll('.lazy-background'));\n\tvar lazyBackgroundsData = [].slice.call(document.querySelectorAll('[data-bg]'));\n\n\tif ('IntersectionObserver' in window) {\n\n\t\tlet lazyImageObserver = new IntersectionObserver(function(entries, observer) {\n\t\t\tentries.forEach(function(entry) {\n\t\t\t\tif (entry.isIntersecting) {\n\t\t\t\t\tlet lazyImage = entry.target;\n\t\t\t\t\tlazyImage.src = lazyImage.dataset.src;\n\t\t\t\t\tlazyImage.srcset = lazyImage.dataset.srcset;\n\t\t\t\t\tlazyImage.classList.remove('lazy');\n\t\t\t\t\tlazyImageObserver.unobserve(lazyImage);\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\t\tlazyImages.forEach(function(lazyImage) {\n\t\t\tlazyImageObserver.observe(lazyImage);\n\t\t});\n\n\tlet lazyBackgroundObserver = new IntersectionObserver(function(entries, observer) {\n\t\tentries.forEach(function(entry) {\n\t\t\tif (entry.isIntersecting) {\n\t\t\t\tentry.target.classList.add('visible');\n\t\t\t\tlazyBackgroundObserver.unobserve(entry.target);\n\t\t\t}\n\t\t});\n\t});\n\tlazyBackgrounds.forEach(function(lazyBackground) {\n\t\tlazyBackgroundObserver.observe(lazyBackground);\n\t});\n\n\tlet lazyBackgroundDataObserver = new IntersectionObserver(function(entries, observer) {\n\t\tentries.forEach(function(entry) {\n\t\t\tif (entry.isIntersecting) {\n\t\t\t\tlet lazyBackgroundData = entry.target;\n\t\t\t\tlazyBackgroundData.style.backgroundImage = 'url(' + lazyBackgroundData.dataset.bg + ')';\n\t\t\t\tlazyBackgroundDataObserver.unobserve(lazyBackgroundData);\n\t\t\t}\n\t\t});\n\t});\n\tlazyBackgroundsData.forEach(function(lazyBackgroundData) {\n\t\tlazyBackgroundDataObserver.observe(lazyBackgroundData);\n\t});\n\n\t} else {\n\n\t\t// Fallback\n\n\t\tlazyImages.forEach(function(lazyImage) {\n\t\t\tlazyImage.src = lazyImage.dataset.src;\n\t\t\tlazyImage.srcset = lazyImage.dataset.srcset;\n\t\t});\n\t\tlazyBackgrounds.forEach(function(lazyBackground) {\n\t\t\tlazyBackground.classList.add('visible');\n\t\t});\n\t\tlazyBackgroundsData.forEach(function(lazyBackgroundData) {\n\t\t\tlazyBackgroundData.style.backgroundImage = 'url(' + lazyBackgroundData.dataset.bg + ')';\n\t\t});\n\n\t}\n\n});\n"]}