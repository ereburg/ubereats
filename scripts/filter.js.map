{"version":3,"sources":["filter.js"],"names":["document","addEventListener","input","querySelector","wrapper","store","querySelectorAll","check","counter","p","createElement","classList","add","textContent","forEach","e","hasAttribute","newEl","length","contains","remove","append","filter","name","kitchen","value","toUpperCase","i","storeText","innerText","kitchenText","checkStore","indexOf","checkKitchen","removeAttribute","setAttribute"],"mappings":"AAAAA,SAASC,iBAAiB,mBAAoB,KAG7C,IAAIC,EAAQF,SAASG,cAAc,iBACnC,MAAMC,EAAUJ,SAASG,cAAc,oBACtCE,EAAQD,EAAQE,iBAAiB,iBAElC,SAASC,IACR,IAAIC,EAAU,EACVC,EAAIT,SAASU,cAAc,KAC/BD,EAAEE,UAAUC,IAAI,SAChBH,EAAEI,YAAc,+FAEhBR,EAAMS,QAAQC,IACTA,EAAEC,aAAa,SAAU,KAC5BR,MAIF,IAAIS,EAAQjB,SAASG,cAAc,UAE/BK,EAAUH,EAAMa,QAAUd,EAAQe,SAASF,GAC9CA,EAAMG,SAEEZ,GAAWH,EAAMa,SAAWd,EAAQe,SAASF,IACrDb,EAAQiB,OAAOZ,GAIjBP,EAAMD,iBAAiB,QAAS,KAC/B,IAAIqB,EAAQC,EAAMC,EAClBF,EAASpB,EAAMuB,MAAMC,cAErB,IAAK,IAAIC,EAAI,EAAGA,EAAItB,EAAMa,OAAQS,IAAK,CACtCJ,EAAOlB,EAAMsB,GAAGxB,cAAc,oBAC9BqB,EAAUnB,EAAMsB,GAAGxB,cAAc,qBACjC,MAAMyB,EAAYL,EAAKV,aAAeU,EAAKM,UAC1CC,EAAcN,EAAQX,aAAeW,EAAQK,UAC7CE,EAAaH,EAAUF,cAAcM,QAAQV,IAAW,EACxDW,EAAeH,EAAYJ,cAAcM,QAAQV,IAAW,EAEzDS,GAAcE,GACjB5B,EAAMsB,GAAGO,gBAAgB,SAAU,IACnC3B,MAEAF,EAAMsB,GAAGQ,aAAa,SAAU,IAChC5B","file":"filter.js","sourcesContent":["document.addEventListener(\"DOMContentLoaded\", () => {\n\n\t// Фильтрация по кухням и названию ресторана\n\tlet input = document.querySelector('#search-input');\n\tconst wrapper = document.querySelector(\".stores__wrapper\"),\n\t\tstore = wrapper.querySelectorAll('.stores__item');\n\n\tfunction check() {\n\t\tlet counter = 0;\n\t\tlet p = document.createElement('p');\n\t\tp.classList.add('added');\n\t\tp.textContent = 'Мы очень старались, но так ничего и не нашли... Но зато вы можете взять Евгения на работу :)';\n\n\t\tstore.forEach(e => {\n\t\t\tif (e.hasAttribute('hidden', '')) {\n\t\t\t\tcounter++;\n\t\t\t}\n\t\t});\n\n\t\tlet newEl = document.querySelector('.added');\n\n\t\tif (counter < store.length && wrapper.contains(newEl)) {\n\t\t\tnewEl.remove();\n\t\t}\n\t\telse if (counter >= store.length && !wrapper.contains(newEl)) {\n\t\t\twrapper.append(p);\n\t\t}\n\t}\n\n\tinput.addEventListener('keyup', () => {\n\t\tlet filter, name, kitchen;\n\t\tfilter = input.value.toUpperCase();\n\n\t\tfor (let i = 0; i < store.length; i++) {\n\t\t\tname = store[i].querySelector(\".stores__heading\");\n\t\t\tkitchen = store[i].querySelector(\".stores__kitchens\");\n\t\t\tconst storeText = name.textContent || name.innerText,\n\t\t\t\tkitchenText = kitchen.textContent || kitchen.innerText,\n\t\t\t\tcheckStore = storeText.toUpperCase().indexOf(filter) > -1,\n\t\t\t\tcheckKitchen = kitchenText.toUpperCase().indexOf(filter) > -1;\n\n\t\t\tif (checkStore || checkKitchen) {\n\t\t\t\tstore[i].removeAttribute('hidden', '');\n\t\t\t\tcheck();\n\t\t\t} else {\n\t\t\t\tstore[i].setAttribute('hidden', '');\n\t\t\t\tcheck();\n\t\t\t}\n\t\t}\n\t});\n});"]}